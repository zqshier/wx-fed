"use strict";require("../../sub-vendors.js");require("../../sub-common/bf2b28b3dc22d0cc484eb74513547951.js");require("../../sub-common/af7a4709eab6a6473b1485d4b335f15d.js");/*! For license information please see verifyFinishInfo.js.LICENSE.txt */
(wx.webpackJsonp=wx.webpackJsonp||[]).push([["packageA/pages/verifyFinishInfo/verifyFinishInfo"],{"./node_modules/@tarojs/taro-loader/lib/raw.js!./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue":function(e,n,s){var o=s("./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=template&id=2dfd1f2e&ts=true"),t=s("./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=script&setup=true&lang=ts"),r=s("./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=style&index=0&id=2dfd1f2e&lang=scss&module=true"),i=s("./node_modules/vue-loader/dist/exportHelper.js");const u={};u.$style=r.default;const a=(0,i.default)(t.default,[["render",o.render],["__cssModules",u],["__file","src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue"]]);n.default=a},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=script&setup=true&lang=ts":function(e,n,s){var o=s("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),t=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=s("./node_modules/vue/index.js"),i=s("./src/api/uicode.ts"),u=s("./src/components/BackgroundImage/BackgroundImage.vue"),a=s("./src/constants/index.ts"),l=s("./src/utils/index.ts"),d=s("./src/utils/track/index.ts"),c=s("./src/utils/track/config.ts"),f=s("./node_modules/@tarojs/taro/index.js"),p=s.n(f),m=s("./node_modules/miniprogram-validator/libs/validator.js"),v=s.n(m);n.default=(0,r.defineComponent)({__name:"verifyFinishInfo",setup:function setup(e,n){var s;(0,n.expose)();var m=(0,f.getApp)()["".concat("zippo")],_=(0,c.getRefererPath)(),g=(0,f.useRouter)(),y=[{label:"自用",value:"3"},{label:"送礼",value:"1"},{label:"收藏",value:"2"}],b=(0,r.ref)({cipher:(null===(s=g.params)||void 0===s?void 0:s.cipher)&&g.params.cipher+""||"",buyPurpose:"3"}),h=(0,r.ref)({name_e:"",name:"",qrPhoto:"",code:"",barcode:""}),I=(0,r.ref)(!1);function _handleSubmit(){return(_handleSubmit=(0,t.default)((0,o.default)().mark((function _callee(){var e,n,s,t,r,u,c;return(0,o.default)().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(n=new(v())({buyPurpose:[{message:"购买目的不能为空",required:!0}]}),s=n.validate(b.value),console.debug("handleSubmit error",s),!s){o.next=5;break}return o.abrupt("return",(0,l.Toast)(s.msg,2e3,"none"));case 5:return I.value=!0,o.prev=6,r=b.value,u=r.cipher,c=r.buyPurpose,o.next=10,(0,i.uicodeSetBuyPurpose)({cipher:u,buyPurpose:c});case 10:t=o.sent,console.debug("verifyFinishInfo page handleSubmit result",t),o.next=17;break;case 14:return o.prev=14,o.t0=o.catch(6),o.abrupt("return",(0,l.Toast)(o.t0.message));case 17:return o.prev=17,I.value=!1,o.finish(17);case 20:if(t){o.next=22;break}return o.abrupt("return");case 22:p().eventCenter.trigger(a.TARGET_VERIFY_FINISH),(0,l.Toast)("保存成功",2e3,"none",!0,(function(){setTimeout((function(){p().navigateBack()}),1500)})),m&&m.track({event:d.ELinkflowEventsName.InteractiveTask_BuyPurpose_Submit,props:{buyPurpose:null===(e=y.find((function(e){return e.value===b.value.buyPurpose})))||void 0===e?void 0:e.label,triggerPagePath:_}});case 25:case"end":return o.stop()}}),_callee,null,[[6,14,17,20]])})))).apply(this,arguments)}(0,r.onMounted)((function(){if(g.params.product)try{var e;h.value=JSON.parse(decodeURIComponent(null===(e=g.params)||void 0===e?void 0:e.product))}catch(e){}}));var j={linkflow:m,triggerPagePath:_,router:g,buyPurposeList:y,qrCompleteInfo:b,product:h,loadingSave:I,handleChangeBuyPurpose:function handleChangeBuyPurpose(e){b.value.buyPurpose=e},handleSubmit:function handleSubmit(){return _handleSubmit.apply(this,arguments)},BackgroundImage:u.default};return Object.defineProperty(j,"__isScriptSetup",{enumerable:!1,value:!0}),j}})},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=template&id=2dfd1f2e&ts=true":function(e,n,s){s.d(n,{render:function(){return render}});var o=s("./node_modules/@nutui/nutui-taro/dist/packages/button/index.mjs"),t=(s("./node_modules/@nutui/nutui-taro/dist/packages/button/style.mjs"),s("./src/components/CustomBar/CustomBar.vue")),r=s("./node_modules/vue/index.js"),i=["onTap"];function render(e,n,s,u,a,l){var d=t.default,c=o.Button;return(0,r.openBlock)(),(0,r.createBlock)(u.BackgroundImage,{class:(0,r.normalizeClass)(e.$style.layout)},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(d,{title:"完善信息"}),(0,r.createElementVNode)("view",{class:(0,r.normalizeClass)([e.$style.main,"nut-flex-col nut-row-center nut-col-center"])},[(0,r.createCommentVNode)(' <view\n        v-if="product.name && product.qrPhoto"\n        :class="$style.goods"\n        class="nut-flex-col nut-row-center nut-col-center"\n      >\n        <text>{{ product.name }}</text>\n        <image :class="$style.image" :src="product.qrPhoto"></image>\n      </view> '),(0,r.createElementVNode)("view",{class:(0,r.normalizeClass)(e.$style.info)},[(0,r.createElementVNode)("view",{class:(0,r.normalizeClass)([e.$style.info_item,"nut-flex-wrap nut-flex-col nut-row-left nut-col-top"])},[(0,r.createElementVNode)("view",{class:(0,r.normalizeClass)([e.$style.label,"f_s-14"])},"购买目的",2),(0,r.createElementVNode)("view",{class:(0,r.normalizeClass)([e.$style.item_bottom,"nut-flex nut-flex-wrap nut-col-center but-row-between"])},[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(u.buyPurposeList,(function(n){return(0,r.createElementVNode)("view",{class:(0,r.normalizeClass)([[e.$style.radio_box,n.value===u.qrCompleteInfo.buyPurpose&&e.$style.active],"nut-flex nut-col-center nut-row-top"]),key:n.value,onTap:function onTap(e){return u.handleChangeBuyPurpose(n.value)}},[(0,r.createElementVNode)("view",{class:(0,r.normalizeClass)(e.$style.radio)},null,2),(0,r.createElementVNode)("text",null,(0,r.toDisplayString)(n.label),1)],42,i)})),64))],2)],2)],2),(0,r.createElementVNode)("view",{class:(0,r.normalizeClass)(e.$style.btn)},[(0,r.createVNode)(c,{block:!0,type:"primary",loading:u.loadingSave,onTap:u.handleSubmit},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("提交信息领取小火苗")]})),_:1},8,["loading"])],2)],2)]})),_:1},8,["class"])}},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/@tarojs/webpack5-runner/node_modules/css-loader/dist/cjs.js??clonedRuleSet-7.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-7.use[2]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-7.use[4]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=style&index=0&id=2dfd1f2e&lang=scss&module=true":function(e,n){n.default={layout:"verifyFinishInfo__layout___YFuvk",main:"verifyFinishInfo__main___e6KU_",info:"verifyFinishInfo__info___yCYMw",info_item:"verifyFinishInfo__info_item___hc3vL",label:"verifyFinishInfo__label___dYrdC",item_bottom:"verifyFinishInfo__item_bottom____w7BT",radio_box:"verifyFinishInfo__radio_box___zclsw",radio:"verifyFinishInfo__radio___UwoAw",active:"verifyFinishInfo__active___ojDMq",btn:"verifyFinishInfo__btn___j78KB","slide-bottom":"verifyFinishInfo__slide-bottom___XpH3y"}},"./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue":function(e,n,s){var o=s("./node_modules/@tarojs/runtime/dist/runtime.esm.js"),t=s("./node_modules/@tarojs/taro-loader/lib/raw.js!./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue");Page((0,o.createPageConfig)(t.default,"packageA/pages/verifyFinishInfo/verifyFinishInfo",{root:{cn:[]}},{}||{})),t.default},"./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=script&setup=true&lang=ts":function(e,n,s){s.d(n,{default:function(){return o.default}});var o=s("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=script&setup=true&lang=ts")},"./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=template&id=2dfd1f2e&ts=true":function(e,n,s){s.d(n,{render:function(){return o.render}});var o=s("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=template&id=2dfd1f2e&ts=true")},"./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=style&index=0&id=2dfd1f2e&lang=scss&module=true":function(e,n,s){s.d(n,{default:function(){return o.default}});var o=s("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/@tarojs/webpack5-runner/node_modules/css-loader/dist/cjs.js??clonedRuleSet-7.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-7.use[2]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-7.use[4]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue?vue&type=style&index=0&id=2dfd1f2e&lang=scss&module=true")}},function(e){e.O(0,["sub-common/bf2b28b3dc22d0cc484eb74513547951","sub-common/af7a4709eab6a6473b1485d4b335f15d","taro","vendors","common"],(function(){return n="./src/packageA/pages/verifyFinishInfo/verifyFinishInfo.vue",e(e.s=n);var n}));e.O()}]);