"use strict";require("../../../sub-vendors.js");require("../../../sub-common/41ff4fbbdedad1c72aa05a42f4a4c5cf.js");require("../../../sub-common/32c280022477625f678229039dea4206.js");require("../../../sub-common/c2c2b1b332c2656cf7739dff156d5267.js");require("../../../sub-common/343a2dde1889905cfe98f71bad0c3d9f.js");require("../../../sub-common/dc4daf55b39b9f0ef4148d17ca11fedb.js");require("../../../sub-common/b231d5d945d1bdca6bd4cc162195daa2.js");/*! For license information please see couponList.js.LICENSE.txt */
(wx.webpackJsonp=wx.webpackJsonp||[]).push([["packageA/pages/coupon/couponList/couponList"],{"./node_modules/@tarojs/taro-loader/lib/raw.js!./src/packageA/pages/coupon/couponList/couponList.vue":function(e,o,n){var t=n("./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=template&id=6a2c603c&ts=true"),s=n("./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=script&setup=true&lang=ts"),u=n("./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=style&index=0&id=6a2c603c&lang=scss&module=true"),a=n("./node_modules/vue-loader/dist/exportHelper.js");const c={};c.$style=u.default;const l=(0,a.default)(s.default,[["render",t.render],["__cssModules",c],["__file","src/packageA/pages/coupon/couponList/couponList.vue"]]);o.default=l},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=script&setup=true&lang=ts":function(e,o,n){var t=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),s=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),u=n("./node_modules/vue/index.js"),a=n("./src/components/BackgroundImage/BackgroundImage.vue"),c=n("./src/components/CouponBox/CouponBox.vue"),l=n("./src/components/CustomBar/CustomBar.vue"),r=n("./src/components/DefaultPage/DefaultPage.vue"),i=n("./src/stores/index.ts"),d=n("./src/utils/track/index.ts"),p=n("./src/utils/track/config.ts"),m=n("./node_modules/@nutui/icons-vue-taro/dist/es/index.es.js"),_=n("./node_modules/@tarojs/taro/index.js"),f=n.n(_);o.default=(0,u.defineComponent)({__name:"couponList",setup:function setup(e,o){(0,o.expose)();var n=(0,_.getApp)()["".concat("zippo")],g=(0,p.getRefererPath)(),v=(0,i.useCouponStore)(),k=(0,u.ref)(0),b=(0,u.ref)(0),L=(0,u.ref)({scrollTop:0}),w=(0,u.ref)(!1),C=(0,u.computed)((function(){return v.datas})),x=(0,u.computed)((function(){return v.couponCenterList})),j=(0,u.computed)((function(){return x.value.length>0&&0===k.value}));(0,_.useDidShow)((0,s.default)((0,t.default)().mark((function _callee(){return(0,t.default)().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return C.value[k.value].loaded=!1,w.value=!1,e.next=4,y();case 4:case"end":return e.stop()}}),_callee)})))),(0,_.useDidHide)((function(){v.$reset()})),(0,u.onMounted)((function(){v.$reset()}));var y=function(){var e=(0,s.default)((0,t.default)().mark((function _callee2(){return(0,t.default)().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return e.next=4,v.getCouponCenterList();case 4:w.value=!0;case 5:case"end":return e.stop()}}),_callee2)})));return function init(){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.default)((0,t.default)().mark((function _callee3(){var e;return(0,t.default)().wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return e=C.value[k.value],o.abrupt("return",v.load(e.type));case 2:case"end":return o.stop()}}),_callee3)})));return function fetchList(){return e.apply(this,arguments)}}(),B=function scrollGoTop(){b.value=L.value.scrollTop,(0,_.nextTick)((function(){b.value=0}))},S={linkflow:n,triggerPagePath:g,couponStore:v,swiperCurrent:k,scrollTop:b,oldScroll:L,isLoading:w,tabDatas:C,couponCenterList:x,showGetCoupon:j,init:y,fetchList:h,goCouponCenter:function goCouponCenter(){n&&n.track({event:d.ELinkflowEventsName.CouponCenter_View,props:{triggerPagePath:g}}),f().navigateTo({url:"/packageA/pages/coupon/couponCenter/couponCenter"})},handleItem:function handleItem(e){k.value=e,B()},swiperChange:function swiperChange(e){var o=e.detail.current;k.value=o,h()},scrollGoTop:B,scrollReachBottom:function scrollReachBottom(){h()},handleScroll:function handleScroll(e){L.value.scrollTop=e.detail.scrollTop},BackgroundImage:a.default,CouponBox:c.default,CustomBar:l.default,DefaultPage:r.default,get Loading1(){return m.Loading1}};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}})},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=template&id=6a2c603c&ts=true":function(e,o,n){n.d(o,{render:function(){return render}});var t=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("./node_modules/vue/index.js"),u=n("./src/static/icon/coupon.png"),a=n("./src/static/icon/chevron-right.png"),c=["onTap"],l=["current"],r=["scroll-top"],i={key:0};function render(e,o,d,p,m,_){return(0,s.openBlock)(),(0,s.createBlock)(p.BackgroundImage,{class:(0,s.normalizeClass)(e.$style.layout)},{default:(0,s.withCtx)((function(){return[(0,s.createVNode)(p.CustomBar,{title:"我的礼券"}),(0,s.createElementVNode)("view",{class:(0,s.normalizeClass)(["nut-flex nut-row-between nut-col-center",e.$style.box])},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(p.tabDatas,(function(o,n){return(0,s.openBlock)(),(0,s.createElementBlock)("block",{key:o.name},[(0,s.createElementVNode)("view",{class:(0,s.normalizeClass)(["nut-flex-col nut-col-center nut-row-center f_s-12 f_w-400",e.$style.item]),onTap:function onTap(e){return p.handleItem(n)}},[(0,s.createElementVNode)("text",{class:(0,s.normalizeClass)([e.$style.item_name,(0,t.default)({},e.$style["item_name-selected"],p.swiperCurrent===n)])},(0,s.toDisplayString)(o.name),3)],42,c)])})),128))],2),(0,s.createElementVNode)("swiper",{class:(0,s.normalizeClass)([e.$style.swiper_box,"nut-flex-1"]),current:p.swiperCurrent,onChange:p.swiperChange},[p.showGetCoupon?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:(0,s.normalizeClass)([e.$style.couponCenter,"border-05px-box-16 rounded_corners-8 nut-flex nut-row-center"]),onTap:p.goCouponCenter},[(0,s.createElementVNode)("image",{class:(0,s.normalizeClass)(e.$style.couponCenter_icon),src:u},null,2),(0,s.createElementVNode)("text",{class:(0,s.normalizeClass)([e.$style.couponCenter_title,"f_s-16"])},"领券中心",2),(0,s.createElementVNode)("image",{class:(0,s.normalizeClass)(e.$style["couponCenter_icon-right"]),src:a},null,2)],34)):(0,s.createCommentVNode)("v-if",!0),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(p.tabDatas,(function(o,u){return(0,s.openBlock)(),(0,s.createElementBlock)("block",{key:u},[(0,s.createElementVNode)("swiper-item",{class:(0,s.normalizeClass)(e.$style.swiper_item)},[(0,s.createElementVNode)("scroll-view",{class:(0,s.normalizeClass)([e.$style["swiper_item-view"],(0,t.default)({},e.$style["swiper_item-height"],!p.showGetCoupon)]),"scroll-y":!0,"scroll-top":p.scrollTop,onScroll:p.handleScroll,onScrolltolower:p.scrollReachBottom},[o.loaded&&p.isLoading?((0,s.openBlock)(),(0,s.createElementBlock)("block",i,[o.list.length>0?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:(0,s.normalizeClass)(e.$style.main)},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.list,(function(e){return(0,s.openBlock)(),(0,s.createElementBlock)("block",{key:e.code},[(0,s.createVNode)(p.CouponBox,{itemData:e,status:o.params.status,isShowBtn:!0},null,8,["itemData","status"])])})),128))],2)):((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:1,class:(0,s.normalizeClass)(["nut-flex nut-flex-1 nut-col-center nut-row-center",e.$style.no_data])},[(0,s.createVNode)(p.DefaultPage,{imgWidth:"48",imgHeight:"48",imgMbottom:"20",icon:n("./src/static/icon/no-coupon.png"),tip:"暂无优惠券"},null,8,["icon"])],2))])):(0,s.createCommentVNode)("v-if",!0),o.loaded||p.isLoading?(0,s.createCommentVNode)("v-if",!0):((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:1,class:(0,s.normalizeClass)([e.$style.load,"nut-flex nut-row-center"])},[(0,s.createVNode)(p.Loading1)],2))],42,r)],2)])})),128))],42,l)]})),_:1},8,["class"])}},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/@tarojs/webpack5-runner/node_modules/css-loader/dist/cjs.js??clonedRuleSet-7.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-7.use[2]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-7.use[4]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=style&index=0&id=6a2c603c&lang=scss&module=true":function(e,o){o.default={layout:"couponList__layout___vCR02",box:"couponList__box___T98D4",item:"couponList__item___Y3K9C",item_name:"couponList__item_name___I0h6z","item_name-selected":"couponList__item_name-selected___nlbXe",no_data:"couponList__no_data___YHI43",swiper_box:"couponList__swiper_box___jsW5c",swiper_item:"couponList__swiper_item___jNphn","swiper_item-view":"couponList__swiper_item-view____ot1t",main:"couponList__main___QoZob",main_item:"couponList__main_item___RZWIX","swiper_item-height":"couponList__swiper_item-height___PYGsZ",couponCenter:"couponList__couponCenter___q33aX",couponCenter_icon:"couponList__couponCenter_icon___bU2fA",couponCenter_title:"couponList__couponCenter_title___hSkli","couponCenter_icon-right":"couponList__couponCenter_icon-right___a0D0U",load:"couponList__load___Pomo9","slide-bottom":"couponList__slide-bottom___uJ3Gs"}},"./src/packageA/pages/coupon/couponList/couponList.vue":function(e,o,n){var t=n("./node_modules/@tarojs/runtime/dist/runtime.esm.js"),s=n("./node_modules/@tarojs/taro-loader/lib/raw.js!./src/packageA/pages/coupon/couponList/couponList.vue");Page((0,t.createPageConfig)(s.default,"packageA/pages/coupon/couponList/couponList",{root:{cn:[]}},{}||{})),s.default},"./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=script&setup=true&lang=ts":function(e,o,n){n.d(o,{default:function(){return t.default}});var t=n("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=script&setup=true&lang=ts")},"./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=template&id=6a2c603c&ts=true":function(e,o,n){n.d(o,{render:function(){return t.render}});var t=n("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=template&id=6a2c603c&ts=true")},"./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=style&index=0&id=6a2c603c&lang=scss&module=true":function(e,o,n){n.d(o,{default:function(){return t.default}});var t=n("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/@tarojs/webpack5-runner/node_modules/css-loader/dist/cjs.js??clonedRuleSet-7.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-7.use[2]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-7.use[4]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/coupon/couponList/couponList.vue?vue&type=style&index=0&id=6a2c603c&lang=scss&module=true")}},function(e){e.O(0,["packageA/sub-vendors","sub-common/41ff4fbbdedad1c72aa05a42f4a4c5cf","sub-common/32c280022477625f678229039dea4206","sub-common/c2c2b1b332c2656cf7739dff156d5267","sub-common/483f6e9b53e3f314843b861c8637927f","sub-common/343a2dde1889905cfe98f71bad0c3d9f","sub-common/dc4daf55b39b9f0ef4148d17ca11fedb","sub-common/b231d5d945d1bdca6bd4cc162195daa2","taro","vendors","common"],(function(){return o="./src/packageA/pages/coupon/couponList/couponList.vue",e(e.s=o);var o}));e.O()}]);