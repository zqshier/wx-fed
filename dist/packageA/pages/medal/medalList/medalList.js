"use strict";require("../../../sub-vendors.js");/*! For license information please see medalList.js.LICENSE.txt */
(wx.webpackJsonp=wx.webpackJsonp||[]).push([["packageA/pages/medal/medalList/medalList"],{"./node_modules/@tarojs/taro-loader/lib/raw.js!./src/packageA/pages/medal/medalList/medalList.vue":function(e,t,a){var s=a("./src/packageA/pages/medal/medalList/medalList.vue?vue&type=template&id=abf30a86&ts=true"),l=a("./src/packageA/pages/medal/medalList/medalList.vue?vue&type=script&setup=true&lang=ts"),n=a("./src/packageA/pages/medal/medalList/medalList.vue?vue&type=style&index=0&id=abf30a86&lang=scss&module=true"),o=a("./node_modules/vue-loader/dist/exportHelper.js");const i={};i.$style=n.default;const r=(0,o.default)(l.default,[["render",s.render],["__cssModules",i],["__file","src/packageA/pages/medal/medalList/medalList.vue"]]);t.default=r},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/medal/medalList/medalList.vue?vue&type=script&setup=true&lang=ts":function(e,t,a){var s=a("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),l=a("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),n=a("./node_modules/vue/index.js"),o=a("./src/stores/index.ts"),i=a("./src/utils/index.ts"),r=a("./node_modules/@tarojs/taro/index.js"),d=a.n(r),u=a("./src/components/CustomBar/CustomBar.vue"),m=a("./src/components/CustomBar/props.ts"),c=a("./src/components/Loading/Loading.vue");t.default=(0,n.defineComponent)({__name:"medalList",setup:function setup(e,t){(0,t.expose)();var a,r=(0,o.useMedailStore)(),_=(0,n.ref)(!1),p=(0,n.ref)(0),g=(0,n.ref)([{bottom:0,dataset:{sid:"_CN"},height:0,id:"swiper-content",left:0,right:0,top:0,width:0}]),v=(0,n.computed)((function(){return r.selectedInfo})),f=(0,n.computed)((function(){return r.medalGroups})),L=(0,n.computed)((function(){var e;return null===(e=r.listInfo)||void 0===e?void 0:e.settings.rulesimages})),w=(0,n.computed)((function(){return"".concat(g.value[p.value].height,"px")})),y=function(){var e=(0,l.default)((0,s.default)().mark((function _callee(){return(0,s.default)().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.load();case 3:a=setTimeout((function(){k()}),500),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error: ",e.t0);case 9:case"end":return e.stop()}}),_callee,null,[[0,6]])})));return function getList(){return e.apply(this,arguments)}}(),k=function getAllItemRect(){(0,i.queryRect)("swiper-content",!0).then((function(e){console.log("rects: ",e),g.value=e})).finally((function(){_.value=!0}))};(0,n.onUnmounted)((function(){clearTimeout(a)})),(0,n.onMounted)((0,l.default)((0,s.default)().mark((function _callee2(){return(0,s.default)().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:case"end":return e.stop()}}),_callee2)}))));var j={medailStore:r,isLoaded:_,currentSwiper:p,rectsArr:g,selectedData:v,listData:f,rulesImages:L,swiperHeight:w,get rectTimeout(){return a},set rectTimeout(e){a=e},getList:y,goDetails:function goDetails(e){-1!==e.medalId&&(d().preload({data:e}),d().navigateTo({url:"/packageA/pages/medal/medalDetails/medalDetails"}))},handleSwiperChange:function handleSwiperChange(e){p.value=e.detail.current},getAllItemRect:k,get cdnurl(){return i.cdnurl},get imageProcess(){return i.imageProcess},CustomBar:u.default,get LogoColorType(){return m.LogoColorType},Loading:c.default};return Object.defineProperty(j,"__isScriptSetup",{enumerable:!1,value:!0}),j}})},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/medal/medalList/medalList.vue?vue&type=template&id=abf30a86&ts=true":function(e,t,a){a.d(t,{render:function(){return render}});var s=a("./src/components/BackgroundImage/BackgroundImage.vue"),l=a("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=a("./node_modules/vue/index.js"),o={key:0},i=["src"],r=(0,n.createElementVNode)("text",{class:"f_s-16"},"当前暂无勋章",-1),d=["src"],u=["current"],m=["onTap"],c=["src"],_=["data-id","src"];function render(e,t,a,p,g,v){var f=s.default;return(0,n.openBlock)(),(0,n.createBlock)(f,null,{default:(0,n.withCtx)((function(){var t;return[(0,n.createVNode)(p.CustomBar,{title:"","bg-color":"#fff","logo-color":p.LogoColorType.BLACK},null,8,["logo-color"]),(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)([[e.$style.main,(0,l.default)({},e.$style["view-on"],!p.isLoaded)],"main nut-flex-col nut-row-center nut-col-center f_s-12"])},[(0,n.createCommentVNode)(" 当前勋章 "),p.selectedData?((0,n.openBlock)(),(0,n.createElementBlock)("block",o,[(0,n.createElementVNode)("text",{class:(0,n.normalizeClass)(e.$style.main_personal)},"我的成就",2),(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)([e.$style.main_name,"f_s-16"])},(0,n.toDisplayString)(p.selectedData.name),3),(0,n.createElementVNode)("image",{mode:"aspectFill",src:p.selectedData.image1,"lazy-load":!0,class:(0,n.normalizeClass)([e.$style.main_image,e.$style["main_image-z"]])},null,10,i)])):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createCommentVNode)(" 无勋章 "),(0,n.createElementVNode)("block",null,[(0,n.createElementVNode)("text",{class:(0,n.normalizeClass)([e.$style.empty_title,"f_s-12"])},"快来探索你的勋章之旅",2),r,(0,n.createElementVNode)("image",{mode:"aspectFill",src:p.cdnurl("static/emptyBadge.png"),class:(0,n.normalizeClass)([e.$style.main_image,e.$style["main_image-z"],e.$style["main_image-pla"]])},null,10,d)])],2112)),(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)([e.$style.main_list])},[(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)([e.$style.swiper_wrapper,(0,l.default)({},e.$style["view-on"],!p.isLoaded)])},[(0,n.createElementVNode)("swiper",{class:(0,n.normalizeClass)(e.$style.list_swiper),circular:!1,current:p.currentSwiper,"cache-extent":1,onChange:p.handleSwiperChange,style:(0,n.normalizeStyle)({height:p.swiperHeight})},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(p.listData,(function(t){return(0,n.openBlock)(),(0,n.createElementBlock)("swiper-item",{key:t},[(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)([e.$style["list_swiper-item"],"nut-flex nut-flex-wrap"]),id:"swiper-content"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t,(function(t){return(0,n.openBlock)(),(0,n.createElementBlock)("view",{class:(0,n.normalizeClass)([e.$style.item_view,"nut-flex-col nut-row-center nut-col-center"]),key:t.medalId,onTap:function onTap(e){return p.goDetails(t)}},[(0,n.createElementVNode)("image",{class:(0,n.normalizeClass)(e.$style["item_view-image"]),src:t.createdAt?t.image1:t.image2,mode:"aspectFit","lazy-load":!0},null,10,c),(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)([e.$style["item_view-name"],"f_s-12 f_w-500 nut-line-1"])},(0,n.toDisplayString)(t.name),3)],42,m)})),128))],2)])})),128))],46,u),(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)([e.$style.indicator,"nut-flex nut-col-center nut-row-center"])},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(p.listData,(function(t,a){return(0,n.openBlock)(),(0,n.createElementBlock)("block",{key:a},[(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)([e.$style.indicator_dot,(0,l.default)({},e.$style.indicator_dot_active,a===p.currentSwiper)])},null,2)])})),128))],2)],2),null!==(t=p.rulesImages)&&void 0!==t&&t.length?((0,n.openBlock)(),(0,n.createElementBlock)("view",{key:0,class:(0,n.normalizeClass)([e.$style.description,"nut-flex-col nut-col-center nut-row-center"])},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(p.rulesImages,(function(t,a){return(0,n.openBlock)(),(0,n.createElementBlock)("image",{key:a,class:(0,n.normalizeClass)(e.$style.description_image),"data-id":p.imageProcess(t,"L","png"),src:p.imageProcess(t,"L","png"),mode:"widthFix","lazy-load":!0,"show-menu-by-longpress":!0},null,10,_)})),128))],2)):(0,n.createCommentVNode)("v-if",!0)],2)],2),(0,n.createVNode)(p.Loading,{show:!p.isLoaded},null,8,["show"])]})),_:1})}},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/@tarojs/webpack5-runner/node_modules/css-loader/dist/cjs.js??clonedRuleSet-7.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-7.use[2]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-7.use[4]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/medal/medalList/medalList.vue?vue&type=style&index=0&id=abf30a86&lang=scss&module=true":function(e,t){t.default={main:"medalList__main___xzpNm",main_personal:"medalList__main_personal___cxY4B",main_name:"medalList__main_name___iQluD","main_name-level":"medalList__main_name-level___u5QR6",main_image:"medalList__main_image___f1cxv","main_image-z":"medalList__main_image-z___Pz9Rd",empty_title:"medalList__empty_title___dWPq7",main_list:"medalList__main_list___DLyNK",list_swiper:"medalList__list_swiper___U09td","list_swiper-item":"medalList__list_swiper-item___mk2Qn",item_view:"medalList__item_view___j1Pr6","item_view-image":"medalList__item_view-image___qF1Q_","item_view-name":"medalList__item_view-name___o4obI",indicator:"medalList__indicator___hIHSP",indicator_dot:"medalList__indicator_dot___YuV7P",indicator_dot_active:"medalList__indicator_dot_active___FmyBt",description_image:"medalList__description_image___RvDLq","view-on":"medalList__view-on___t5r0O","slide-bottom":"medalList__slide-bottom___UDuW7"}},"./src/packageA/pages/medal/medalList/medalList.vue":function(e,t,a){var s=a("./node_modules/@tarojs/runtime/dist/runtime.esm.js"),l=a("./node_modules/@tarojs/taro-loader/lib/raw.js!./src/packageA/pages/medal/medalList/medalList.vue");Page((0,s.createPageConfig)(l.default,"packageA/pages/medal/medalList/medalList",{root:{cn:[]}},{}||{})),l.default},"./src/packageA/pages/medal/medalList/medalList.vue?vue&type=script&setup=true&lang=ts":function(e,t,a){a.d(t,{default:function(){return s.default}});var s=a("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/medal/medalList/medalList.vue?vue&type=script&setup=true&lang=ts")},"./src/packageA/pages/medal/medalList/medalList.vue?vue&type=template&id=abf30a86&ts=true":function(e,t,a){a.d(t,{render:function(){return s.render}});var s=a("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/medal/medalList/medalList.vue?vue&type=template&id=abf30a86&ts=true")},"./src/packageA/pages/medal/medalList/medalList.vue?vue&type=style&index=0&id=abf30a86&lang=scss&module=true":function(e,t,a){a.d(t,{default:function(){return s.default}});var s=a("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/@tarojs/webpack5-runner/node_modules/css-loader/dist/cjs.js??clonedRuleSet-7.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-7.use[2]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-7.use[4]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/medal/medalList/medalList.vue?vue&type=style&index=0&id=abf30a86&lang=scss&module=true")}},function(e){e.O(0,["taro","vendors","common"],(function(){return t="./src/packageA/pages/medal/medalList/medalList.vue",e(e.s=t);var t}));e.O()}]);