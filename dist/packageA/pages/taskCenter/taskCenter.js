"use strict";require("../../sub-vendors.js");/*! For license information please see taskCenter.js.LICENSE.txt */
(wx.webpackJsonp=wx.webpackJsonp||[]).push([["packageA/pages/taskCenter/taskCenter"],{"./node_modules/@tarojs/taro-loader/lib/raw.js!./src/packageA/pages/taskCenter/taskCenter.vue":function(e,s,t){var n=t("./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=template&id=495bbf29&ts=true"),a=t("./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=script&setup=true&lang=ts"),o=t("./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=style&index=0&id=495bbf29&lang=scss&module=true"),l=t("./node_modules/vue-loader/dist/exportHelper.js");const r={};r.$style=o.default;const u=(0,l.default)(a.default,[["render",n.render],["__cssModules",r],["__file","src/packageA/pages/taskCenter/taskCenter.vue"]]);s.default=u},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=script&setup=true&lang=ts":function(e,s,t){var n=t("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),a=t("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=t("./node_modules/vue/index.js"),l=t("./src/components/BackgroundImage/BackgroundImage.vue"),r=t("./src/components/CustomBar/CustomBar.vue"),u=t("./src/packageA/pages/signin/components/PopSignInResult.vue"),d=t("./src/pages/pointmall/components/TaskItem.vue"),i=t("./src/stores/index.ts"),c=t("./src/hook/useLoginPop.ts"),p=t("./node_modules/@tarojs/taro/index.js"),m=t("./node_modules/date-fns/esm/startOfMonth/index.js"),g=t("./src/utils/index.ts"),_=t("./src/api/daily.ts"),k=t("./node_modules/lodash/lodash.js");s.default=(0,o.defineComponent)({__name:"taskCenter",setup:function setup(e,s){(0,s.expose)();var t=(0,c.default)().visible,v=(0,i.useMissionsStore)(),f=(0,i.useSigninStore)(),C=(0,o.computed)((function(){var e;return null===(e=(0,i.useUserStore)().userInfo)||void 0===e?void 0:e.memberLevel})),j=(0,o.computed)((function(){return v.missionsInTask})),b=(0,o.ref)(!1),w=(0,o.ref)([]);function _handleSignin(){return(_handleSignin=(0,a.default)((0,n.default)().mark((function _callee2(){var e,s,t;return(0,n.default)().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,_.getDailySigninApi)();case 3:e=n.sent,b.value=!0,w.value=e.rewards,s=new Date((new Date).getFullYear(),(new Date).getMonth(),1,0,0,0).toISOString(),(t=(0,k.cloneDeep)(f.getSigninDatas[s])).days.push({signInDate:e.signInDate,isSignIn:!0}),f.setSigninData(s,t),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),(0,g.Toast)(n.t0.message);case 15:case"end":return n.stop()}}),_callee2,null,[[0,12]])})))).apply(this,arguments)}(0,p.useDidShow)((0,a.default)((0,n.default)().mark((function _callee(){return(0,n.default)().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return v.load(),e.next=3,(0,i.useSigninStore)().load((0,m.default)(new Date).toISOString());case 3:case"end":return e.stop()}}),_callee)}))));var S={showLoginPop:t,missionsStore:v,signinStore:f,level:C,taskList:j,showSignInResultPop:b,signinResultData:w,handleSignin:function handleSignin(){return _handleSignin.apply(this,arguments)},BackgroundImage:l.default,CustomBar:r.default,PopSignInResult:u.default,TaskItem:d.default,get cdnurl(){return g.cdnurl}};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}})},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=template&id=495bbf29&ts=true":function(e,s,t){t.d(s,{render:function(){return render}});var n=t("./node_modules/vue/index.js"),a=["src"],o={key:0},l={class:"nut-flex-1 nut-flex-col nut-row-left nut-col-top"};function render(e,s,t,r,u,d){return(0,n.openBlock)(),(0,n.createBlock)(r.BackgroundImage,{class:(0,n.normalizeClass)(e.$style.layout)},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(r.CustomBar,{title:"任务中心"}),(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)(e.$style.main)},[(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)(e.$style.main_imageBox)},[(0,n.createElementVNode)("image",{class:(0,n.normalizeClass)(e.$style.image),src:r.cdnurl("static/task_".concat(r.level,".png")),mode:"aspectFill"},null,10,a)],2),(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)([e.$style.main_title,"f_s-20 f_w-600"])},"Zippo 会员任务中心",2),(0,n.createElementVNode)("scroll-view",{class:(0,n.normalizeClass)(e.$style.main_task),"scroll-y":!0,enhanced:!0,"enable-passive":!0,"scroll-with-animation":!0,"show-scrollbar":!1},[r.taskList.length?((0,n.openBlock)(),(0,n.createElementBlock)("view",o,[(0,n.createElementVNode)("view",{class:(0,n.normalizeClass)([e.$style.task_title,"f_s-16"])},"会员任务",2),(0,n.createElementVNode)("view",l,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.taskList,(function(e){return(0,n.openBlock)(),(0,n.createBlock)(r.TaskItem,{"show-login-pop":r.showLoginPop,"onUpdate:showLoginPop":s[0]||(s[0]=function(e){return r.showLoginPop=e}),key:e.id,task:e,onSiginIn:r.handleSignin},null,8,["show-login-pop","task"])})),128))])])):(0,n.createCommentVNode)("v-if",!0)],2),(0,n.createVNode)(r.PopSignInResult,{show:r.showSignInResultPop,"onUpdate:show":s[1]||(s[1]=function(e){return r.showSignInResultPop=e}),rewards:r.signinResultData,"show-detail-btn":!0},null,8,["show","rewards"])],2)]})),_:1},8,["class"])}},"./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/@tarojs/webpack5-runner/node_modules/css-loader/dist/cjs.js??clonedRuleSet-7.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-7.use[2]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-7.use[4]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=style&index=0&id=495bbf29&lang=scss&module=true":function(e,s){s.default={layout:"taskCenter__layout___RvOgj",main:"taskCenter__main____iLQ2",main_imageBox:"taskCenter__main_imageBox___t19Ol",image:"taskCenter__image___QtH_6",main_title:"taskCenter__main_title____AA0T",main_task:"taskCenter__main_task___IK1NP",task_title:"taskCenter__task_title___8D8je","slide-bottom":"taskCenter__slide-bottom___dMe8x"}},"./src/packageA/pages/taskCenter/taskCenter.vue":function(e,s,t){var n=t("./node_modules/@tarojs/runtime/dist/runtime.esm.js"),a=t("./node_modules/@tarojs/taro-loader/lib/raw.js!./src/packageA/pages/taskCenter/taskCenter.vue");Page((0,n.createPageConfig)(a.default,"packageA/pages/taskCenter/taskCenter",{root:{cn:[]}},{}||{})),a.default},"./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=script&setup=true&lang=ts":function(e,s,t){t.d(s,{default:function(){return n.default}});var n=t("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=script&setup=true&lang=ts")},"./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=template&id=495bbf29&ts=true":function(e,s,t){t.d(s,{render:function(){return n.render}});var n=t("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/babel-loader/lib/index.js??clonedRuleSet-21.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=template&id=495bbf29&ts=true")},"./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=style&index=0&id=495bbf29&lang=scss&module=true":function(e,s,t){t.d(s,{default:function(){return n.default}});var n=t("./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/@tarojs/webpack5-runner/node_modules/css-loader/dist/cjs.js??clonedRuleSet-7.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-7.use[2]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-7.use[4]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/packageA/pages/taskCenter/taskCenter.vue?vue&type=style&index=0&id=495bbf29&lang=scss&module=true")}},function(e){e.O(0,["taro","vendors","common"],(function(){return s="./src/packageA/pages/taskCenter/taskCenter.vue",e(e.s=s);var s}));e.O()}]);